(()=>{var e={};e.id=931,e.ids=[931],e.modules={5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},1877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},5319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},1278:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>o.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>c,routeModule:()=>h,tree:()=>d});var a=s(7096),i=s(6132),r=s(7284),o=s.n(r),n=s(2564),l={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>n[e]);s.d(t,l);let d=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,3982)),"C:\\Users\\jabbi\\Documents\\work_space\\Linkstatus\\app\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,5345)),"C:\\Users\\jabbi\\Documents\\work_space\\Linkstatus\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9291,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\jabbi\\Documents\\work_space\\Linkstatus\\app\\page.tsx"],x="/page",m={require:s,loadChunk:()=>Promise.resolve()},h=new a.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},9507:(e,t,s)=>{Promise.resolve().then(s.bind(s,3371))},3371:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>Page});var a=s(784),i=s(9885),r=s(9244),o=s(7686),n=s(7627);let components_MeshVisualization=({meshStats:e=[],onNodeClick:t})=>{let[s,l]=(0,i.useState)(null),[d,c]=(0,i.useState)(!0),x=[...new Set(e.map(e=>e.orig_address))],m=e.filter(e=>"direct"===e.hop_status),h=e.filter(e=>"hop"===e.hop_status),getNodePosition=(e,t)=>{let s=2*Math.PI*e/t;return{x:200+150*Math.cos(s),y:200+150*Math.sin(s)}},getQualityInfo=e=>{let t=e/255*100;return t>=75?{color:"#22C55E",status:"Excellent"}:t>=50?{color:"#EAB308",status:"Good"}:t>=25?{color:"#F97316",status:"Fair"}:{color:"#EF4444",status:"Poor"}};return(0,a.jsxs)("div",{className:"bg-gray-900 p-6 rounded-lg shadow-xl",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(n.Z,{className:"w-5 h-5 text-blue-500"}),a.jsx("h3",{className:"text-lg font-semibold text-white",children:"Mesh Network Topology"})]}),(0,a.jsxs)("button",{onClick:()=>c(!d),className:"px-3 py-1.5 bg-gray-800 rounded-md text-sm text-gray-300 hover:bg-gray-700",children:[d?"Pause":"Start"," Animation"]})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)("svg",{width:"400",height:"400",className:"mx-auto",children:[(0,a.jsxs)("defs",{children:[(0,a.jsxs)("filter",{id:"glow",children:[a.jsx("feGaussianBlur",{stdDeviation:"2",result:"coloredBlur"}),(0,a.jsxs)("feMerge",{children:[a.jsx("feMergeNode",{in:"coloredBlur"}),a.jsx("feMergeNode",{in:"SourceGraphic"})]})]}),a.jsx("pattern",{id:"directPattern",patternUnits:"userSpaceOnUse",width:"4",height:"4",children:a.jsx("path",{d:"M 0 0 L 4 0",stroke:"#3B82F6",strokeWidth:"2"})}),a.jsx("pattern",{id:"hopPattern",patternUnits:"userSpaceOnUse",width:"8",height:"8",children:a.jsx("path",{d:"M 0 0 L 8 0",stroke:"#8B5CF6",strokeWidth:"2",strokeDasharray:"4,4"})})]}),a.jsx("circle",{cx:"200",cy:"200",r:"180",fill:"none",stroke:"#1F2937",strokeWidth:"1"}),a.jsx("circle",{cx:"200",cy:"200",r:"120",fill:"none",stroke:"#1F2937",strokeWidth:"1"}),(0,a.jsxs)("g",{transform:"translate(20, 20)",children:[a.jsx("text",{x:"25",y:"10",fill:"#F3F4F6",fontSize:"12",fontWeight:"bold",children:"Connection Types:"}),a.jsx("line",{x1:"0",y1:"25",x2:"20",y2:"25",stroke:"#3B82F6",strokeWidth:"2"}),a.jsx("text",{x:"25",y:"30",fill:"#F3F4F6",fontSize:"12",children:"Direct Link"}),a.jsx("line",{x1:"0",y1:"45",x2:"20",y2:"45",stroke:"#8B5CF6",strokeWidth:"2",strokeDasharray:"4,4"}),a.jsx("text",{x:"25",y:"50",fill:"#F3F4F6",fontSize:"12",children:"Hop Link"})]}),m.map((e,t)=>{let s=x.indexOf(e.orig_address),i=getNodePosition(s,x.length);return getQualityInfo(e.tq),(0,a.jsxs)(r.E.g,{children:[a.jsx(r.E.line,{x1:i.x,y1:i.y,x2:"200",y2:"200",stroke:"#3B82F6",strokeWidth:"2",initial:{pathLength:0,opacity:0},animate:{pathLength:1,opacity:.8},transition:{duration:1}}),(0,a.jsxs)("text",{x:(i.x+200)/2,y:(i.y+200)/2-10,fill:"#3B82F6",fontSize:"10",textAnchor:"middle",className:"pointer-events-none",children:["Direct (",Math.round(e.tq/255*100),"%)"]}),d&&a.jsx(r.E.circle,{r:"3",fill:"#3B82F6",filter:"url(#glow)",initial:{x:i.x,y:i.y},animate:{x:[i.x,200],y:[i.y,200],opacity:[0,1,0]},transition:{duration:2,repeat:1/0,delay:.5*t}})]},`direct-${t}`)}),h.map((e,t)=>{let s=x.indexOf(e.orig_address),i=getNodePosition(s,x.length);getQualityInfo(e.tq);let o={x:(i.x+200)/2+(Math.random()-.5)*40,y:(i.y+200)/2+(Math.random()-.5)*40},n=`M ${i.x} ${i.y} Q ${o.x} ${o.y} 200 200`;return(0,a.jsxs)(r.E.g,{children:[a.jsx(r.E.path,{d:n,stroke:"#8B5CF6",strokeWidth:"2",strokeDasharray:"4,4",fill:"none",initial:{pathLength:0,opacity:0},animate:{pathLength:1,opacity:.6},transition:{duration:1}}),(0,a.jsxs)("text",{x:o.x,y:o.y-10,fill:"#8B5CF6",fontSize:"10",textAnchor:"middle",className:"pointer-events-none",children:["Hop (",Math.round(e.tq/255*100),"%)"]}),d&&a.jsx(r.E.circle,{r:"3",fill:"#8B5CF6",filter:"url(#glow)",initial:{opacity:0},animate:{opacity:[0,1,0],offsetDistance:["0%","100%"]},transition:{duration:3,repeat:1/0,delay:.5*t},style:{offsetPath:`path("${n}")`,offsetRotate:"auto"}})]},`hop-${t}`)}),x.map((i,n)=>{let d=getNodePosition(n,x.length),c=e.filter(e=>e.orig_address===i),m=Math.max(...c.map(e=>e.tq)),h=getQualityInfo(m);return(0,a.jsxs)(r.E.g,{onMouseEnter:()=>l(i),onMouseLeave:()=>l(null),onClick:()=>t(i),whileHover:{scale:1.1},className:"cursor-pointer",children:[a.jsx("circle",{cx:d.x,cy:d.y,r:"10",fill:h.color,className:"stroke-white stroke-2",filter:"url(#glow)"}),a.jsx("text",{x:d.x,y:d.y+25,textAnchor:"middle",fill:"#9CA3AF",fontSize:"12",children:i.slice(-4)}),a.jsx(o.M,{children:s===i&&(0,a.jsxs)(r.E.g,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},children:[a.jsx("rect",{x:d.x-40,y:d.y-50,width:"80",height:"20",fill:"#1F2937",rx:"4"}),(0,a.jsxs)("text",{x:d.x,y:d.y-35,textAnchor:"middle",fill:"#F3F4F6",fontSize:"10",children:[i," - ",h.status]})]})})]},`node-${i}`)})]}),a.jsx("div",{className:"absolute top-2 right-2 bg-gray-800/80 backdrop-blur p-3 rounded-lg z-10",children:(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full bg-[#22C55E]"}),a.jsx("span",{className:"text-xs text-gray-300",children:"Excellent (75-100%)"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full bg-[#EAB308]"}),a.jsx("span",{className:"text-xs text-gray-300",children:"Good (50-75%)"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full bg-[#F97316]"}),a.jsx("span",{className:"text-xs text-gray-300",children:"Fair (25-50%)"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full bg-[#EF4444]"}),a.jsx("span",{className:"text-xs text-gray-300",children:"Poor (0-25%)"})]})]})})]})]})};var l=s(3647),d=s(4707),c=s(4300),x=s(5522),m=s(4839),h=s(4206),u=s(7106),g=s(1778),p=s(371),y=s(2583),j=s(5854);let MetricCard=({title:e,value:t,unit:s="",subValue:i,icon:r,status:o,onClick:n})=>(0,a.jsxs)("div",{className:`bg-gray-900 border border-gray-800 rounded-lg p-6 ${n?"cursor-pointer hover:bg-gray-800 transition-colors":""}`,onClick:n,children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 text-gray-400 mb-2",children:[a.jsx(r,{className:"h-5 w-5"}),a.jsx("span",{className:"text-sm",children:e})]}),(0,a.jsxs)("div",{className:`text-2xl font-bold ${(e=>{switch(e){case"critical":return"text-red-400";case"warning":return"text-yellow-400";default:return"text-white"}})(o)}`,children:["number"==typeof t?Number(t).toFixed(1):t,s]}),i&&a.jsx("div",{className:"text-xs text-gray-500",children:i}),n&&a.jsx("div",{className:"mt-2 text-xs text-gray-300",children:"Click to show graph"})]});var b=s(4565),f=s(8741),k=s(2415);let formatTimestamp=e=>new Date(e).toLocaleString("en-US",{month:"short",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0}),RssiChart=({data:e,displayChoice:t})=>a.jsx("div",{className:"h-64",children:a.jsx(l.h,{width:"100%",height:"100%",children:(0,a.jsxs)(d.w,{data:e,children:[a.jsx(c.q,{strokeDasharray:"3 3",stroke:"#374151"}),a.jsx(x.K,{dataKey:"timestamp",type:"number",domain:["auto","auto"],tickFormatter:e=>new Date(1e3*e).toLocaleTimeString("en-US",{timeZone:"America/New_York",hour12:!0}),stroke:"#9CA3AF"}),a.jsx(m.B,{domain:[-90,-20],stroke:"#9CA3AF",label:{value:"RSSI (dBm)",angle:-90,position:"insideLeft"}}),a.jsx(h.u,{labelFormatter:e=>formatTimestamp(Number(e)),contentStyle:{backgroundColor:"#1F2937",border:"none",borderRadius:"0.5rem",color:"#F3F4F6"}}),("all"===t||"rssi"===t)&&a.jsx(u.x,{type:"monotone",dataKey:"rssi",stroke:"#3B82F6",name:"Overall RSSI",dot:!1,strokeWidth:2}),("all"===t||"ant1"===t)&&a.jsx(u.x,{type:"monotone",dataKey:"rssi_ant[0]",stroke:"#60A5FA",name:"Antenna 1",dot:!1,strokeWidth:2}),("all"===t||"ant2"===t)&&a.jsx(u.x,{type:"monotone",dataKey:"rssi_ant[1]",stroke:"#93C5FD",name:"Antenna 2",dot:!1,strokeWidth:2})]})})}),PacketLossChart=({data:e,displayChoice:t})=>a.jsx("div",{className:"h-64",children:a.jsx(l.h,{width:"100%",height:"100%",children:(0,a.jsxs)(b.c,{data:e,children:[a.jsx(c.q,{strokeDasharray:"3 3",stroke:"#374151"}),a.jsx(x.K,{dataKey:"timestamp",type:"number",domain:["auto","auto"],tickFormatter:e=>new Date(1e3*e).toLocaleTimeString("en-US",{timeZone:"America/New_York",hour12:!0}),stroke:"#9CA3AF"}),"all"===t?(0,a.jsxs)(a.Fragment,{children:[a.jsx(m.B,{yAxisId:"left",domain:[0,"auto"],stroke:"#9CA3AF",label:{value:"Packet Loss Ratio",angle:-90,position:"insideLeft"}}),a.jsx(m.B,{yAxisId:"right",orientation:"right",domain:[0,"auto"],stroke:"#9CA3AF",label:{value:"Tx Retries",angle:-90,position:"insideRight"}})]}):"pl"===t?a.jsx(m.B,{domain:[0,"auto"],stroke:"#9CA3AF",label:{value:"Packet Loss Ratio",angle:-90,position:"insideLeft"}}):a.jsx(m.B,{domain:[0,"auto"],stroke:"#9CA3AF",label:{value:"Tx Retries",angle:-90,position:"insideLeft"}}),a.jsx(h.u,{labelFormatter:e=>formatTimestamp(Number(e)),contentStyle:{backgroundColor:"#1F2937",border:"none",borderRadius:"0.5rem",color:"#F3F4F6"}}),("all"===t||"pl"===t)&&a.jsx(f.$,{dataKey:"pl_ratio",barSize:20,fill:"#EF4444",name:"Packet Loss Ratio",yAxisId:"all"===t?"left":void 0}),("all"===t||"retries"===t)&&a.jsx(u.x,{dataKey:"tx_retries",stroke:"#F59E0B",dot:!1,strokeWidth:2,name:"Retries",yAxisId:"all"===t?"right":void 0})]})})}),McsChart=({data:e})=>a.jsx("div",{className:"h-64",children:a.jsx(l.h,{width:"100%",height:"100%",children:(0,a.jsxs)(d.w,{data:e,children:[a.jsx(c.q,{strokeDasharray:"3 3",stroke:"#374151"}),a.jsx(x.K,{dataKey:"timestamp",type:"number",domain:["auto","auto"],tickFormatter:e=>new Date(1e3*e).toLocaleTimeString("en-US",{timeZone:"America/New_York",hour12:!0}),stroke:"#9CA3AF"}),a.jsx(m.B,{domain:[0,15],stroke:"#9CA3AF",label:{value:"MCS Index",angle:-90,position:"insideLeft"},ticks:[0,3,7,11,15]}),a.jsx(h.u,{labelFormatter:e=>formatTimestamp(Number(e)),contentStyle:{backgroundColor:"#1F2937",border:"none",borderRadius:"0.5rem",color:"#F3F4F6"}}),a.jsx(u.x,{type:"stepAfter",dataKey:"mcs",stroke:"#8B5CF6",name:"MCS Index",dot:!1,strokeWidth:2})]})})}),components_StationDetails=({station:e,timeSeriesData:t,localtime:s,onClose:r})=>{let[o,n]=(0,i.useState)("packetLoss"),[l,d]=(0,i.useState)("all"),[c,x]=(0,i.useState)("all"),m=new Date(1e3*s).toLocaleString("en-US",{timeZone:"America/New_York",hour12:!0}),h="rssi"===o?`RSSI ${"all"===l?"- Overall & Antennas":"rssi"===l?"- Overall":"ant1"===l?"- Antenna 1":"- Antenna 2"}`:"packetLoss"===o?"Packet Loss Ratio":"mcs"===o?"MCS Index":"";return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,a.jsxs)("div",{className:"bg-gray-900 rounded-lg p-6 w-[80%] max-h-[90vh] overflow-y-auto",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,a.jsxs)("h2",{className:"text-xl font-bold text-white",children:["Station Details: ",e.mac]}),a.jsx("button",{onClick:r,className:"text-gray-400 hover:text-white",children:"\xd7"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-5 gap-4 mb-6",children:[a.jsx(MetricCard,{title:"Local Time",value:m,icon:p.Z,status:"normal"}),a.jsx(MetricCard,{title:"Inactive Time",value:e.inactive,unit:"ms",icon:p.Z,status:"warning"}),a.jsx(MetricCard,{title:"RSSI",value:e.rssi,subValue:`Ant1: ${e.rssi_ant[0]} dBm, Ant2: ${e.rssi_ant[1]} dBm`,icon:g.Z,onClick:()=>n("rssi"),status:"warning"}),a.jsx(MetricCard,{title:"Packet Loss Ratio",value:e.pl_ratio.toFixed(2),icon:k.Z,onClick:()=>n("packetLoss"),status:"warning"}),a.jsx(MetricCard,{title:"MCS Index",value:e.mcs,icon:y.Z,onClick:()=>n("mcs"),status:"warning"})]}),(0,a.jsxs)("div",{className:"bg-gray-800 p-4 rounded-lg mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:h}),"rssi"===o&&(0,a.jsxs)("div",{className:"flex space-x-4 mb-4",children:[a.jsx("button",{onClick:()=>d("all"),className:`px-2 py-1 rounded ${"all"===l?"bg-blue-500":"bg-gray-700"}`,children:"Overall & Antennas"}),a.jsx("button",{onClick:()=>d("rssi"),className:`px-2 py-1 rounded ${"rssi"===l?"bg-blue-500":"bg-gray-700"}`,children:"Overall"}),a.jsx("button",{onClick:()=>d("ant1"),className:`px-2 py-1 rounded ${"ant1"===l?"bg-blue-500":"bg-gray-700"}`,children:"Antenna 1"}),a.jsx("button",{onClick:()=>d("ant2"),className:`px-2 py-1 rounded ${"ant2"===l?"bg-blue-500":"bg-gray-700"}`,children:"Antenna 2"})]}),"packetLoss"===o&&(0,a.jsxs)("div",{className:"flex space-x-4 mb-4",children:[a.jsx("button",{onClick:()=>x("all"),className:`px-2 py-1 rounded ${"all"===c?"bg-blue-500":"bg-gray-700"}`,children:"All"}),a.jsx("button",{onClick:()=>x("pl"),className:`px-2 py-1 rounded ${"pl"===c?"bg-blue-500":"bg-gray-700"}`,children:"Packet Loss"}),a.jsx("button",{onClick:()=>x("retries"),className:`px-2 py-1 rounded ${"retries"===c?"bg-blue-500":"bg-gray-700"}`,children:"Retries"})]}),"rssi"===o?a.jsx(RssiChart,{data:t,displayChoice:l}):"packetLoss"===o?a.jsx(PacketLossChart,{data:t,displayChoice:c}):"mcs"===o?a.jsx(McsChart,{data:t}):null]})]})})};function parseLogFile(e){let t=e.split("\n").filter(e=>e.trim());return t.map(e=>{let t=JSON.parse(e).linkstate;return{localtime:t.sysinfo.localtime,timestamp:1e3*t.sysinfo.localtime,noise:parseFloat(t.noise),activity:t.activity,cpuLoad:t.sysinfo.cpu_load[0]/65535*100,cpuLoad5m:t.sysinfo.cpu_load[1]/65535*100,cpuLoad15m:t.sysinfo.cpu_load[2]/65535*100,memory:t.sysinfo.freemem/1048576,channel:t.oper_chan,frequency:t.oper_freq,channelWidth:t.chan_width,lnaStatus:t.lna_status,stations:t.sta_stats,meshNodes:t.mesh_stats}})}var v=s(3562);let components_LogFileUpload=({onFileLoaded:e})=>{let t=(0,i.useCallback)(e=>{e.preventDefault();let t=e.dataTransfer.files[0];handleFile(t)},[e]),s=(0,i.useCallback)(e=>{let t=e.target.files?.[0];t&&handleFile(t)},[e]),handleFile=t=>{let s=new FileReader;s.onload=t=>{let s=t.target?.result;e(s)},s.readAsText(t)};return(0,a.jsxs)("div",{className:"max-w-4xl mx-auto bg-gray-900 rounded-lg shadow-xl",children:[a.jsx("div",{className:"p-6 border-b border-gray-800",children:a.jsx("img",{src:"/logo.png",alt:"Mesh Rider Logo",className:"h-12 mx-auto"})}),a.jsx("div",{className:"p-6",children:(0,a.jsxs)("div",{className:"border-2 border-dashed border-gray-700 rounded-lg p-8 text-center cursor-pointer hover:border-blue-500 transition-colors",onDragOver:e=>e.preventDefault(),onDrop:t,onClick:()=>document.getElementById("fileInput")?.click(),children:[a.jsx("input",{type:"file",id:"fileInput",className:"hidden",accept:".log,.json,.txt",onChange:s}),a.jsx(k.Z,{className:"w-12 h-12 text-blue-500 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-semibold text-gray-300 mb-2",children:"Upload Link Status Log File"}),a.jsx("p",{className:"text-gray-500 text-sm",children:"Drag and drop your log file here, or click to select"}),(0,a.jsxs)("div",{className:"flex items-center justify-center mt-4 text-sm text-gray-500",children:[a.jsx(v.Z,{className:"w-4 h-4 mr-2"}),"Supports .log, .json, and .txt files"]})]})}),(0,a.jsxs)("div",{className:"p-6 bg-gray-800 rounded-b-lg",children:[a.jsx("h4",{className:"text-lg font-semibold text-gray-300 mb-4",children:"Setup Instructions"}),a.jsx("div",{className:"space-y-4",children:[{title:"Download Log File",description:"Download the 'Link Status Log' from Web GUI or Command Line (.tar.gz file)"},{title:"Extract Archive",description:"Extract the .tar.gz file into a folder (Right-click → Extract All in Windows)"},{title:"Locate Log File",description:"Navigate to: Downloads → longtermmon_smartradio-* → tmp → longtermlog → *.log"}].map((e,t)=>(0,a.jsxs)("div",{className:"flex items-start",children:[a.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center text-white font-semibold",children:t+1}),(0,a.jsxs)("div",{className:"ml-4",children:[a.jsx("h5",{className:"text-gray-300 font-medium",children:e.title}),a.jsx("p",{className:"text-gray-500 text-sm mt-1",children:e.description})]})]},t))})]})]})};function LinkStatusAnalyzer({initialData:e}){var t;let[s,r]=(0,i.useState)(()=>e?parseLogFile(e):[]),[o,n]=(0,i.useState)(null),[b,f]=(0,i.useState)("noiseFloor"),[k,v]=(0,i.useState)(!1),handleMetricClick=e=>{f(e),document.getElementById("performance-graphs")?.scrollIntoView({behavior:"smooth",block:"start"})};if(0===s.length)return a.jsx("div",{className:"min-h-screen bg-gray-950 flex flex-col items-center justify-center p-6",children:(0,a.jsxs)("div",{className:"max-w-2xl w-full",children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[a.jsx("h1",{className:"glowing-text text-white",children:"Link Status Log Analyzer"}),a.jsx("p",{className:"text-gray-400",children:"Upload your SmartRadio log file to analyze performance metrics"})]}),a.jsx(components_LogFileUpload,{onFileLoaded:e=>{try{v(!0);let t=parseLogFile(e);r(t)}catch(e){console.error("Error parsing log file:",e)}finally{v(!1)}}})]})});let N=s[s.length-1],formatTimestamp=e=>new Date(e).toLocaleString("en-US",{month:"short",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0});return a.jsx("div",{className:"p-6",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[a.jsx("img",{src:"/logo.png",alt:"Mesh Rider Logo",className:"h-12"}),(0,a.jsxs)("div",{className:"flex flex-col",children:[a.jsx("h1",{className:"glowing-text text-white text-2xl font-bold",children:"Link Status Analysis"}),(0,a.jsxs)("p",{className:"text-gray-400 mt-1",children:["Analyzing ",s.length," log entries"]})]})]}),a.jsx("button",{onClick:()=>r([]),className:"px-4 py-2 bg-gray-800 text-gray-300 rounded-lg hover:bg-gray-700",children:"Upload New File"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-4 gap-6 mb-8",children:[a.jsx(MetricCard,{title:"Noise Floor",value:N.noise,unit:" dBm",icon:g.Z,status:N.noise>-75?"warning":"normal",onClick:()=>handleMetricClick("noiseFloor")}),a.jsx(MetricCard,{title:"Channel Activity",value:N.activity,unit:"%",icon:p.Z,status:N.activity>70?"warning":"normal",onClick:()=>handleMetricClick("activity")}),a.jsx(MetricCard,{title:"CPU Load",value:N.cpuLoad,unit:"%",icon:y.Z,status:N.cpuLoad>80?"warning":"normal",onClick:()=>handleMetricClick("cpu")}),a.jsx(MetricCard,{title:"Memory Available",value:N.memory,unit:" MB",icon:j.Z,status:"normal",onClick:()=>handleMetricClick("memory")})]}),(0,a.jsxs)("div",{id:"performance-graphs",className:"grid grid-cols-2 gap-6 mb-8",children:[("noiseFloor"===b||"activity"===b)&&(0,a.jsxs)("div",{className:"bg-gray-900 p-6 rounded-lg col-span-2",children:[a.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"RF Performance"}),a.jsx("div",{className:"h-80",children:a.jsx(l.h,{width:"100%",height:"100%",children:(0,a.jsxs)(d.w,{data:s,children:[a.jsx(c.q,{strokeDasharray:"3 3",stroke:"#374151"}),a.jsx(x.K,{dataKey:"timestamp",type:"number",domain:["auto","auto"],tickFormatter:formatTimestamp,stroke:"#9CA3AF"}),a.jsx(m.B,{yAxisId:"noise",domain:[-90,-50],stroke:"#60A5FA"}),a.jsx(m.B,{yAxisId:"activity",orientation:"right",domain:[0,100],stroke:"#34D399"}),a.jsx(h.u,{labelFormatter:e=>formatTimestamp(Number(e)),contentStyle:{backgroundColor:"#1F2937",border:"none",borderRadius:"0.5rem",color:"#F3F4F6"}}),a.jsx(u.x,{yAxisId:"noise",type:"monotone",dataKey:"noise",name:"Noise Floor",stroke:"#60A5FA",dot:!1}),a.jsx(u.x,{yAxisId:"activity",type:"monotone",dataKey:"activity",name:"Activity",stroke:"#34D399",dot:!1})]})})})]}),"cpu"===b&&(0,a.jsxs)("div",{className:"bg-gray-900 p-6 rounded-lg col-span-2",children:[a.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"System Performance"}),a.jsx("div",{className:"h-80",children:a.jsx(l.h,{width:"100%",height:"100%",children:(0,a.jsxs)(d.w,{data:s,children:[a.jsx(c.q,{strokeDasharray:"3 3",stroke:"#374151"}),a.jsx(x.K,{dataKey:"timestamp",type:"number",domain:["auto","auto"],tickFormatter:e=>new Date(e).toLocaleString("en-US",{month:"short",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0}),stroke:"#9CA3AF"}),a.jsx(m.B,{domain:[0,100],stroke:"#9CA3AF"}),a.jsx(h.u,{labelFormatter:e=>formatTimestamp(Number(e)),contentStyle:{backgroundColor:"#1F2937",border:"none",borderRadius:"0.5rem",color:"#F3F4F6"}}),a.jsx(u.x,{type:"monotone",dataKey:"cpuLoad",name:"CPU Load",stroke:"#A78BFA",dot:!1}),a.jsx(u.x,{type:"monotone",dataKey:"cpuLoad5m",name:"CPU Load (5m)",stroke:"#EC4899",dot:!1}),a.jsx(u.x,{type:"monotone",dataKey:"cpuLoad15m",name:"CPU Load (15m)",stroke:"#F59E0B",dot:!1})]})})})]}),"memory"===b&&(0,a.jsxs)("div",{className:"bg-gray-900 p-6 rounded-lg col-span-2",children:[a.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Memory Usage"}),a.jsx("div",{className:"h-80",children:a.jsx(l.h,{width:"100%",height:"100%",children:(0,a.jsxs)(d.w,{data:s,children:[a.jsx(c.q,{strokeDasharray:"3 3",stroke:"#374151"}),a.jsx(x.K,{dataKey:"timestamp",type:"number",domain:["auto","auto"],tickFormatter:e=>new Date(e).toLocaleTimeString("en-US"),stroke:"#9CA3AF"}),a.jsx(m.B,{domain:[0,"auto"],stroke:"#9CA3AF"}),a.jsx(h.u,{labelFormatter:e=>formatTimestamp(Number(e)),contentStyle:{backgroundColor:"#1F2937",border:"none",borderRadius:"0.5rem",color:"#F3F4F6"}}),a.jsx(u.x,{type:"monotone",dataKey:"memory",name:"Available Memory",stroke:"#F87171",dot:!1})]})})})]})]}),a.jsx("div",{className:"mb-8",children:a.jsx(components_MeshVisualization,{meshStats:N.meshNodes,onNodeClick:e=>{let t=N.stations.find(t=>t.mac===e);t&&n(t)}})}),(0,a.jsxs)("div",{className:"bg-gray-900 p-6 rounded-lg",children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold text-white mb-4",children:["Connected Stations (",N.stations.length,")"]}),a.jsx("div",{className:"space-y-4",children:N.stations.map(e=>{let t=e.rssi>-65?"good":e.rssi>-75?"fair":"poor",s=e.pl_ratio<1?"good":e.pl_ratio<2?"fair":"poor";return(0,a.jsxs)("div",{className:"bg-gray-800 p-4 rounded-lg cursor-pointer hover:bg-gray-750 transition-colors",onClick:()=>n(e),children:[(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"text-white font-medium flex items-center",children:[e.mac,a.jsx("span",{className:`ml-2 px-2 py-0.5 text-xs rounded-full ${"good"===t?"bg-green-900 text-green-300":"fair"===t?"bg-yellow-900 text-yellow-300":"bg-red-900 text-red-300"}`,children:t.toUpperCase()})]}),(0,a.jsxs)("div",{className:"text-sm text-gray-400 mt-1",children:[(0,a.jsxs)("span",{className:"mr-4",children:["RSSI: ",e.rssi," dBm"]}),(0,a.jsxs)("span",{className:"mr-4",children:["MCS: ",e.mcs]}),(0,a.jsxs)("span",{children:["Inact: ",e.inactive,"ms"]})]}),(0,a.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:["Ant1: ",e.rssi_ant[0]," dBm, Ant2: ",e.rssi_ant[1]," dBm"]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("div",{className:"text-sm",children:[a.jsx("span",{className:"text-gray-400",children:"TX: "}),(0,a.jsxs)("span",{className:"text-white",children:[(e.tx_bytes/1024).toFixed(2)," KB"]})]}),(0,a.jsxs)("div",{className:`text-sm ${"good"===s?"text-green-400":"fair"===s?"text-yellow-400":"text-red-400"}`,children:["PL: ",e.pl_ratio.toFixed(2)]}),(0,a.jsxs)("div",{className:"text-sm text-gray-400",children:["Retries: ",e.tx_retries]})]})]}),a.jsx("div",{className:"mt-2 text-xs text-gray-500",children:"Click for detailed statistics and packet loss graph"})]},e.mac)})})]}),o&&a.jsx(components_StationDetails,{station:N.stations.find(e=>e.mac===o.mac)||o,timeSeriesData:(t=o.mac,s.map(e=>{let s=e.stations.find(e=>e.mac===t);return s?{timestamp:e.timestamp,...s}:null}).filter(e=>e&&void 0!==e.rssi)),localtime:N.localtime,onClose:()=>n(null)})]})})}let N=`{ "linkstate": {"sysinfo":{"cpu_load":[17120,15712,13600],"freemem":12693504,"localtime":1651865198},"oper_chan":9,"oper_freq":2452,"chan_width":"26","noise":"-79.565010","activity":24,"lna_status":"1","sta_stats":[],"mesh_stats":[]} }
{ "linkstate": {"sysinfo":{"cpu_load":[15744,15424,13504],"freemem":12636160,"localtime":1651865202},"oper_chan":9,"oper_freq":2452,"chan_width":"26","noise":"-84.366287","activity":24,"lna_status":"1","sta_stats":[],"mesh_stats":[]} }`;function Page(){return a.jsx("main",{className:"min-h-screen",children:a.jsx(i.Suspense,{fallback:a.jsx("div",{children:"Loading..."}),children:a.jsx(LinkStatusAnalyzer,{initialData:N})})})}},3982:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>o,__esModule:()=>r,default:()=>l});var a=s(5153);let i=(0,a.createProxy)(String.raw`C:\Users\jabbi\Documents\work_space\Linkstatus\app\page.tsx`),{__esModule:r,$$typeof:o}=i,n=i.default,l=n}};var t=require("../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),s=t.X(0,[472,933,699],()=>__webpack_exec__(1278));module.exports=s})();